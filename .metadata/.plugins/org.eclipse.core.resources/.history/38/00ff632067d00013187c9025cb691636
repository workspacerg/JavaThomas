<html>
<head>

 #if( $context.getTitle() != "" )   
 <title>
   $context.getTitle()
 </title>
 #end

 #if( $context.getCssDependancy() != "" )   
  <LINK rel="stylesheet" type="text/css" href="$context.getCssDependancy()" />
 #end

 #if( $context.getKeyWords() != "" )     
 <META NAME="keywords"    CONTENT="$context.getKeyWords()" /> 
 #end

 #if( $context.getDescription()  != "" )  
 <META NAME="description" CONTENT = "$context.getDescription()"  /> 
 #end
 
 <link href='http://fonts.googleapis.com/css?family=Dancing+Script' rel='stylesheet' type='text/css'>


</head>


#if( $context.getInlineCss() != "" )
<style type="text/css">
 $context.getInlineCss() test
</style>
#end


<body>
#set ($login = $context.getRequest().getSession(true).getAttribute("login"))
#if ($login)
  $context.getFragment("shared/MainHeader")

  $context.getFragment("__CURRENT__")

  $context.getFragment("shared/MainFooter")
  
#else
$context.addOnJsReady("new Esgi.module.user.Connect({ id : '#container'})")
<div id="container">

</div>
#end
   <script>
     var APP_CONTEXT = '$context.getProperties().get("context")';
   </script> 
   
<!-- 
    jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed 
  -->
  
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    
    <script src="$context.getProperties().get("context")/res/js/mylib.js"></script>

    #foreach($jsUrl in $context.getJSDependancy())
    	$jsUrl
  	#end

<script>
  $(function(){
    console.log('Im ready');    
      #foreach($jsUrl in $context.getOnJsReady())
      	$jsUrl
      #end
  });
</script>


</body> 
</html>